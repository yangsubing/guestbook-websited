<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìˆ˜ë¹„ë‹ˆì˜ ì›¹ì‚¬ì´íŠ¸</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f7f3e9; /* ì•„ì´ë³´ë¦¬ ë°°ê²½ */
        }
        header {
            background-color: #d3c0e4; /* ì—°ë³´ë¼ ë°°ê²½ */
            color: white;
            padding: 10px 0;
            text-align: center;
        }
        nav {
            display: flex;
            justify-content: center;
            background-color: #d1a9d7; /* ì—°ë³´ë¼ìƒ‰ ë„¤ë¹„ê²Œì´ì…˜ ë°” */
        }
        nav a {
            color: white;
            padding: 14px 20px;
            text-decoration: none;
            text-align: center;
        }
        nav a:hover {
            background-color: #b88cc4; /* ì—°ë³´ë¼ìƒ‰ ê°•ì¡° */
        }
        main {
            display: flex;
            padding: 20px;
        }
        section {
            flex: 1;
            padding: 20px;
            margin: 20px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        aside {
            width: 250px;
            padding: 20px;
            background-color: #f0e6f7; /* ì—°ë³´ë¼ ë°°ê²½ */
            margin-left: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
        }
        footer {
            background-color: #d3c0e4;
            color: white;
            text-align: center;
            padding: 10px 0;
            position: fixed;
            width: 100%;
            bottom: 0;
        }
        .visitor-counter {
            margin-top: 10px;
            font-size: 14px;
            color: #6c4f87;
        }
        input, button, textarea {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        button {
            background-color: #d3c0e4; /* ì—°ë³´ë¼ìƒ‰ ë²„íŠ¼ */
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #b88cc4;
        }
        a {
            text-decoration: none;
            color: #8e6eaf;
        }
        a:hover {
            color: #6a4d85;
        }
        .guestbook {
            margin-top: 20px;
        }
        .entry {
            background: #f0e6f7;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .delete-btn {
            background-color: #ff6666;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        .delete-btn:hover {
            background-color: #cc0000;
        }
    </style>
</head>
<body>
<header>
    <h1>ìˆ˜ë¹„ë‹ˆì˜ ì›¹ì‚¬ì´íŠ¸</h1>
</header>

<nav>
    <a href="#">Home</a>
    <a href="about.html">About</a>
    <a href="#">Services</a>
    <a href="#">Contact</a>
</nav>

<main>
    <section>
        <h2>ì´ê±´ë°”ë¡œ</h2>
        <p>ì§€í”¼í‹°ê°€ ë§Œë“¤ì–´ì¤€ ì›¹ì‚¬ì´íŠ¸ì…ë‹ˆëŒœ</p>

        <!-- íšŒì›ê°€ì… í¼ -->
        <h3>Sign Up for Updates</h3>
        <form id="signupForm">
            <input type="text" name="name" placeholder="Enter your name" required>
            <input type="email" name="email" placeholder="Enter your email" required>
            <button type="submit">Sign Up</button>
        </form>

        <!-- ë°©ëª…ë¡ ì‘ì„± -->
        <h3>ë°©ëª…ë¡ ì‘ì„±</h3>
        <textarea id="guestbookInput" placeholder="ë°©ëª…ë¡ì„ ì‘ì„±í•˜ì„¸ìš”..."></textarea>
        <button onclick="addEntry()">ì‘ì„±í•˜ê¸°</button>

        <div class="guestbook">
            <h3>ğŸ“– ë°©ëª…ë¡</h3>
            <div id="guestbookEntries"></div>
        </div>
    </section>

    <!-- ì‚¬ì´ë“œë°” -->
    <aside>
        <h3>ìµœê·¼ ê¸€ ëª©ë¡</h3>
        <ul>
            <li><a href="#">Post 1</a></li>
            <li><a href="#">Post 2</a></li>
            <li><a href="#">Post 3</a></li>
        </ul>
        <h3>ì €í¬ë¥¼ íŒ”ë¡œìš° í•´ì£¼ì„¸ìš”</h3>
        <p>ë‚˜ìœ ì‚¬ëŒ ì•„ë‹™ë‹ˆë‹¤ ğŸ˜­</p>
        <ul>
            <li><a href="#">Facebook</a></li>
            <li><a href="#">Twitter</a></li>
            <li><a href="https://www.instagram.com/d.0.b_/" target="_blank">Instagram</a></li>
        </ul>
    </aside>
</main>

<footer>
    <p>Â© 2025 Sample Website. ê°œêµ¬ë¦¬ì™•ëˆˆì´ í˜‘íšŒì—ì„œ ì œê³µë¨..</p>
    <p class="visitor-counter">ë°©ë¬¸ì ìˆ˜: <span id="visitorCount">0</span></p>
</footer>

<script type="module">
  // Firebase SDK ë¶ˆëŸ¬ì˜¤ê¸°
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
  import { getFirestore, collection, addDoc, getDocs, deleteDoc, doc } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

  // Firebase ì„¤ì •
  const firebaseConfig = {
    apiKey: "AIzaSyBhXlo8XRn5-5_kiscU0wVVImLRHbyEKwE",
    authDomain: "subinweb-b1122.firebaseapp.com",
    projectId: "subinweb-b1122",
    storageBucket: "subinweb-b1122.firebasestorage.app",
    messagingSenderId: "284203792802",
    appId: "1:284203792802:web:b4dcdcac604c8a16d69afb"
  };

  // Firebase ì´ˆê¸°í™”
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // ë°©ëª…ë¡ ì‘ì„± ê¸°ëŠ¥
  async function addEntry() {
    let input = document.getElementById("guestbookInput").value.trim();
    if (!input) {
      alert("ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”!");
      return;
    }

    // Firestoreì— ë°©ëª…ë¡ ì¶”ê°€
    await addDoc(collection(db, "guestbook"), { message: input });

    document.getElementById("guestbookInput").value = ""; // ì…ë ¥ì°½ ì´ˆê¸°í™”
    loadEntries(); // ëª©ë¡ ìƒˆë¡œ ê³ ì¹¨
  }

  // ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
  async function loadEntries() {
    let entriesContainer = document.getElementById("guestbookEntries");
    entriesContainer.innerHTML = ""; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”

    const querySnapshot = await getDocs(collection(db, "guestbook"));
    querySnapshot.forEach((docData) => {
      let entryDiv = document.createElement("div");
      entryDiv.classList.add("entry");

      let textSpan = document.createElement("span");
      textSpan.textContent = docData.data().message;

      let deleteBtn = document.createElement("button");
      deleteBtn.textContent = "ì‚­ì œ";
      deleteBtn.classList.add("delete-btn");
      deleteBtn.onclick = async function() {
        await deleteDoc(doc(db, "guestbook", docData.id));
        loadEntries();
      };

      entryDiv.appendChild(textSpan);
      entryDiv.appendChild(deleteBtn);
      entriesContainer.appendChild(entryDiv);
    });
  }

  // ë°©ë¬¸ì ìˆ˜ ì¦ê°€
  document.addEventListener("DOMContentLoaded", function() {
    let count = localStorage.getItem("visitorCount") || 0;
    count = parseInt(count) + 1;
    localStorage.setItem("visitorCount", count);
    document.getElementById("visitorCount").textContent = count;

    // ë°©ëª…ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
    loadEntries();
  });

  // 'Sign Up' ë²„íŠ¼ í´ë¦­ ì‹œ ë™ì‘ ì¶”ê°€
  document.getElementById('signupForm').addEventListener('submit', function(event) {
    event.preventDefault();
    alert('íšŒì›ê°€ì… ì •ë³´ê°€ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤!');
  });
</script>

</body>
</html>
